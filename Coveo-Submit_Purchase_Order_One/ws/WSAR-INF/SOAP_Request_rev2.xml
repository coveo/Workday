<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet version="2.0"
	xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

  <xsl:param name="item"/>
  <xsl:param name="snow_num"/>
  <xsl:param name="unit_cost"/>
  <xsl:param name="manufacturer"/>
  <xsl:param name="product_name"/>
  <xsl:param name="description"/>
  <xsl:param name="supplier_id"/>
  <xsl:param name="supplier_catergory_id"/>
  <xsl:param name="payment_terms"/>
  <xsl:param name="currency"/>
  <xsl:param name="po_issue_option"/>
  <xsl:param name="company_restrictions"/>
  <xsl:param name="spend_category"/>
  <xsl:param name="bill_to_address"/>
  <xsl:param name="document_date"/>
  
<xsl:template match="/">

<env:Envelope xmlns:env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
<env:Body>
<wd:Submit_Purchase_Order_Request xmlns:wd="urn:com.workday/bsvc" wd:Add_Only="true" wd:version="v37.0">
<wd:Business_Process_Parameters>
<wd:Auto_Complete>false</wd:Auto_Complete>
</wd:Business_Process_Parameters>
<wd:Purchase_Order_Data>
<wd:Submit>false</wd:Submit>
<wd:Locked_in_Workday>false</wd:Locked_in_Workday>
<wd:Item_Reference>
<wd:ID wd:type="Item_ID"><xsl:value-of select="$item"/></wd:ID>
</wd:Item_Reference>
<wd:snow_num_Reference>
<wd:ID wd:type="snow_num_ID"><xsl:value-of select="$snow_num"/></wd:ID>
</wd:snow_num_Reference>
<wd:unit_cost_Reference>
<wd:ID wd:type="unit_cost_ID"><xsl:value-of select="$unit_cost"/></wd:ID>
</wd:unit_cost_Reference>
<wd:manufacturer_Reference>
<wd:ID wd:type="manufacturer_ID"><xsl:value-of select="$manufacturer"/></wd:ID>
</wd:manufacturer_Reference>
<wd:product_name_Reference>
<wd:ID wd:type="product_name_ID"><xsl:value-of select="$product_name"/></wd:ID>
</wd:product_name_Reference>
<wd:description_Reference>
<wd:ID wd:type="description_Reference"><xsl:value-of select="$description"/></wd:ID>
</wd:description_Reference>
<wd:supplier_id_Reference>
<wd:ID wd:type="supplier_ID"><xsl:value-of select="$supplier_id"/></wd:ID>
</wd:supplier_id_Reference>
<wd:supplier_catergory_id_Reference>
<wd:ID wd:type="supplier_catergory_ID"><xsl:value-of select="$supplier_catergory_id"/></wd:ID>
</wd:supplier_catergory_id_Reference>
<wd:payment_terms_Reference>
<wd:ID wd:type="payment_terms_ID"><xsl:value-of select="$payment_terms"/></wd:ID>
</wd:payment_terms_Reference>
<wd:currency_Reference>
<wd:ID wd:type="currency_ID"><xsl:value-of select="$currency"/></wd:ID>
</wd:currency_Reference>
<wd:po_issue_option_Reference>
<wd:ID wd:type="po_issue_option_ID"><xsl:value-of select="$po_issue_option"/></wd:ID>
</wd:po_issue_option_Reference>
<wd:company_restrictions_Reference>
<wd:ID wd:type="company_restrictions_ID"><xsl:value-of select="$company_restrictions"/></wd:ID>
</wd:company_restrictions_Reference>
<wd:spend_category_Reference>
<wd:ID wd:type="spend_category_ID"><xsl:value-of select="$spend_category"/></wd:ID>
</wd:spend_category_Reference>
<wd:bill_to_address_Reference>
<wd:ID wd:type="bill_to_address_Reference_ID"><xsl:value-of select="$bill_to_address"/></wd:ID>
</wd:bill_to_address_Reference>
<wd:document_date_Reference>
<wd:ID wd:type="document_date_Reference"><xsl:value-of select="$document_date"/></wd:ID>
</wd:document_date_Reference>
<wd:Document_Date>
	<xsl:call-template name="stripTimeFromDate">
    	<xsl:with-param name="subjectDate" select="$document_date" />
    </xsl:call-template>
</wd:Document_Date>
<wd:Service_Line_Replacement_Data>
<wd:Due_Date/>
<wd:Start_Date></wd:Start_Date>
<wd:End_Date></wd:End_Date>
<wd:Prepaid>false</wd:Prepaid>
<wd:Retention>false</wd:Retention>
</wd:Service_Line_Replacement_Data>
</wd:Purchase_Order_Data>
</wd:Submit_Purchase_Order_Request>
</env:Body>
</env:Envelope>
</xsl:template>

<xsl:template name="stripTimeFromDate">
        <xsl:param name="subjectDate"/>
        <xsl:value-of select="format-date($subjectDate, '[Y0001]/[M01]/[D01]')"/>
    </xsl:template>
    
</xsl:stylesheet>
